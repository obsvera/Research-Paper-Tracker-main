<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; connect-src 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <title>Research Paper Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Settings Icon -->
    <button id="settingsBtn" class="settings-btn" title="Settings" aria-label="Open settings menu">
        âš™ï¸
    </button>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ“š Research Paper Tracker</h1>
            <p>Organize your dissertation research â€¢ Export to CSV â€¢ APA 7th edition citations</p>
        </div>
        
        <div class="controls">
            <button class="btn" id="addRowBtn" aria-label="Add a new paper manually to the tracker">+ Add Paper Manually</button>
            <div class="url-input-group">
                <input type="text" id="extractedData" placeholder="Enter paper title, URL, DOI, or partial citation..." class="url-input" aria-label="Enter paper information">
                <button class="btn btn-url" id="dataBtn" aria-label="Add paper from entered information">+ Add</button>
            </div>
            <div class="smart-input-hint">
                ğŸ’¡ <strong>Smart Input:</strong> Paste paper titles, URLs, DOIs, or partial citations - any AI assistant can automatically extract the details!
            </div>
        </div>
        
        <div class="controls">
            <div class="export-group">
                <button class="btn btn-export" id="exportBtn" aria-label="Export all papers to CSV format">ğŸ“¥ Export CSV</button>
                <button class="btn btn-export" id="exportJSONBtn" aria-label="Export all papers to JSON format">ğŸ“„ Export JSON</button>
                <button class="btn btn-export" id="exportBibTeXBtn" aria-label="Export all papers to BibTeX format">ğŸ“š Export BibTeX</button>
            </div>
            <div class="import-group">
                <input type="file" id="csvImport" accept=".csv" class="hidden-file-input" aria-label="Import CSV file">
                <input type="file" id="jsonImport" accept=".json" class="hidden-file-input" aria-label="Import JSON file">
                <input type="file" id="bibtexImport" accept=".bib" class="hidden-file-input" aria-label="Import BibTeX file">
                <button class="btn" id="importBtn" aria-label="Import papers from CSV file">ğŸ“¤ Import CSV</button>
                <button class="btn" id="importJSONBtn" aria-label="Import papers from JSON file">ğŸ“„ Import JSON</button>
                <button class="btn" id="importBibTeXBtn" aria-label="Import papers from BibTeX file">ğŸ“š Import BibTeX</button>
            </div>
            <div class="utility-group">
                <button class="btn" id="clearDataBtn" aria-label="Clear all papers from tracker">ğŸ—‘ï¸ Clear All</button>
                <button class="btn btn-secondary" id="csvHelpBtn" aria-label="Show import/export help">â“ Help</button>
            </div>
        </div>

        <div class="controls">
            <div class="stats" id="stats">
                <div class="stat-item">Total Papers: <span id="totalCount">0</span></div>
                <div class="stat-item">Read: <span id="readCount">0</span></div>
                <div class="stat-item">Reading: <span id="readingCount">0</span></div>
                <div class="stat-item">To Read: <span id="toReadCount">0</span></div>
            </div>
        </div>

        <!-- Papers Section - Editable Cards -->
        <div class="summary-section">
            <div class="summary-header">
                <h2>ğŸ“– Research Papers</h2>
                <p>Click any card to edit â€¢ Click paper title or links to open</p>
            </div>
            <div id="papersSummary" class="papers-grid">
                <div class="empty-state">No papers added yet. Add some papers to see them here!</div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
